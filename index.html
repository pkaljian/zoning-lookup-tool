<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoning Lookup Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.5em;
            font-weight: 300;
        }

        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 1.1em;
        }

        .query-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
        }

        .query-title {
            font-size: 1.3em;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .query-form {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            gap: 15px;
        }

        .query-text {
            font-size: 1.1em;
            color: #34495e;
        }

        select {
            padding: 10px 15px;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            font-size: 1em;
            background: white;
            min-width: 200px;
            transition: border-color 0.3s ease;
        }

        select:focus {
            outline: none;
            border-color: #3498db;
        }

        button {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.4);
        }

        .results {
            background: white;
            border-radius: 10px;
            padding: 25px;
            margin-top: 30px;
            border: 1px solid #ecf0f1;
            min-height: 100px;
        }

        .results h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .result-item {
            background: #f1f2f6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-left: 4px solid #27ae60;
        }

        .result-item.conditional {
            border-left-color: #f39c12;
        }

        .result-item.not-permitted {
            border-left-color: #e74c3c;
        }

        .result-item.accessory {
            border-left-color: #9b59b6;
        }

        .zone-name {
            font-weight: bold;
            color: #2c3e50;
        }

        .permission-detail {
            margin-top: 5px;
            color: #555;
            font-size: 0.95em;
        }

        .loading {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
        }

        .no-results {
            text-align: center;
            color: #e74c3c;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            .query-form {
                flex-direction: column;
                align-items: stretch;
            }
            
            select {
                min-width: auto;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Zoning Lookup Tool</h1>
        <p class="subtitle">Find zoning permissions for land uses quickly and easily</p>
        <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 15px; margin-bottom: 30px; border-left: 5px solid #fdcb6e;">
            <strong>‚ö†Ô∏è Important Disclaimer:</strong> This tool provides general zoning information for reference purposes only. Always verify requirements with the Planning Department before making final development decisions. Zoning regulations may have additional requirements, recent updates, or site-specific considerations not reflected in this tool.
            <br><br>
            <strong>üìã Additional Resources:</strong>
            <a href="https://cityofpetaluma.org/zoning-map/" target="_blank" style="color: #2980b9; text-decoration: none;">View Official Zoning Map</a> | 
            <a href="https://petaluma.municipal.codes/SmartCode/2" target="_blank" style="color: #2980b9; text-decoration: none;">View Complete Municipal Code</a>
        </div>

        <div class="query-section">
            <div class="query-title">Where can I put a specific use?</div>
            <div class="query-form">
                <span class="query-text">Where can I put a</span>
                <select id="landUseSelect">
                    <option value="">Select a land use...</option>
                </select>
                <span class="query-text">?</span>
                <button onclick="searchByLandUse()">Find Zones</button>
            </div>
        </div>
<div style="text-align: center; font-size: 1.2em; color: #7f8c8d; margin: 20px 0;">
    ‚Äî OR ‚Äî
</div>
        <div class="query-section">
            <div class="query-title">What's allowed in a specific zone?</div>
            <div class="query-form">
                <span class="query-text">What's allowed in</span>
                <select id="zoneSelect">
                    <option value="">Select a zone...</option>
                </select>
                <span class="query-text">zoning?</span>
                <button onclick="searchByZone()">Show Uses</button>
            </div>
        </div>

        <div class="results" id="results">
            <p class="loading">Select a query above to get started</p>
        </div>
    </div>

    <script>
        // Test data first to make sure it works
        const zones = ["OSP", "AG", "RR", "R1", "R2", "R3", "R4", "R5", "MU1A", "MU1B", "MU1C", "MU2", "C1", "C2", "BP", "I", "CF"];
        
        const landUses = ["Adult Day Program", "Adult Oriented Business", "Artisan Shop", "Artisan/Craft Product Manufacturing", "ATM", "Auto Parts Sales", "Auto Vehicle Sales and Rental", "Bank, Financial Services", "Bar, Tavern, Night Club", "Building and Landscape Materials Sales Indoor ‚Äì 25,000 sf or Less", "Building and Landscape Materials Sales Indoor ‚Äì More Than 25,000 sf", "Building and Landscape Materials Sales ‚Äì Outdoor", "Business Support Service", "Cardroom", "Catering Service, as a Primary Use", "Child Care Center", "Child Day Care ‚Äì Large Family", "Child Day Care ‚Äì Small Family", "City Water and Sewer Facility", "Commercial Recreation ‚Äì Indoor", "Commercial Recreation ‚Äì Outdoor", "Community Meeting Facility", "Conference/Convention Facility", "Crop Production, Horticulture, Orchard, Vineyard", "Day Care ‚Äì Large Family Day Care Home", "Day Care ‚Äì Small Family Day Care Home", "Dwelling, Accessory", "Dwelling, Caretaker", "Dwelling, Group", "Dwelling, Junior Accessory", "Dwelling, Multiple", "Dwelling, Single Household", "Emergency Shelter", "Farm Animal Keeping", "Fitness/Health Facility", "Fueling Station/Gas Station", "Furniture and Fixture Manufacturing, Cabinet Making", "Furniture and Fixtures Manufacturing, Cabinet Shop", "General Retail ‚Äì 25,000 sf or Less", "General Retail ‚Äì More Than 25,000 sf", "General Retail ‚ÄìMore Than 25,000 sf", "Golf Course, Country Club", "Groceries/Specialty Foods ‚Äì 25,000 sf or Less", "Groceries/Specialty Foods ‚Äì More Than 25,000 sf", "Home Occupation", "Kennel, Animal Boarding", "Laboratory ‚Äì Cannabis", "Laboratory ‚Äì Medical, Analytical", "Laundry, Dry Cleaning Plants", "Library, Museum, Art Gallery", "Lodging ‚Äì Bed and Breakfast Inn", "Lodging ‚Äì Hotel/Motel", "Lodging ‚Äì Short-Term Vacation Rentals", "Maintenance/Repair Service ‚Äì Client Site Services", "Maintenance/Repair Service ‚Äì Equipment, Appliances", "Manufacturing, Light", "Manufacturing/processing ‚Äì Cannabis", "Manufacturing/Processing ‚Äì Light", "Manufacturing/Processing ‚Äì Medium Intensity", "Meals Assembly Business", "Media Production", "Medical Services ‚Äì Health Care Facility", "Medical Services ‚Äì Major", "Medical Services ‚Äì Minor", "Mortuary, Funeral Home", "Office ‚Äì Business, Service, or Government", "Office ‚Äì Government", "Office ‚Äì Headquarters, or Processing", "Office ‚Äì Professional, Administrative", "Park", "Parking Facility, Public or Commercial", "Personal Services", "Personal Services ‚Äì Restricted", "Petroleum Product Storage and Distribution", "Plant Nursery", "Printing and Publishing", "Public Safety Facility", "Recycling Facility", "Recycling Facility ‚Äì Scrap and Dismantling Yard", "Research and Development", "Residential Care Facility, Adult", "Residential Care Facility, for the Chronically Ill", "Residential Care Facility, for the Elderly", "Residential Care, 6 or Fewer Clients, in a Home", "Residential Care, 7 or More Clients", "Residential Care, Adult", "Residential in Mixed Use Building", "Residential, Accessory Structure", "Restaurant, Caf√©, Coffee Shop", "Retail Sale and Delivery ‚Äì Cannabis", "School ‚Äì Elementary, Secondary, or College, Private", "School ‚Äì Specialized Education and Training", "Sports and Entertainment Assembly", "Storage ‚Äì Warehouse, Indoor Storage", "Storage Yard ‚Äì Outdoor", "Studio ‚Äì Art, Dance, Martial Arts, Music, etc.", "Swimming Pool, Hot Tub, Spa", "Telecommunications Facility", "Theater, Cinema or Performing Arts", "Utility Facility", "Vehicle Services ‚Äì Major Repair/Body Work", "Vehicle Services ‚Äì Minor Maintenance/Repair", "Veterinary Clinic, Animal Hospital", "Wholesaling and Distribution", "Work/Live", "Zero Emission Vehicles  (Battery Charging Station)", "Zero Emission Vehicles  (Hydrogen Fuel Cell Station)"];

        const zoningData = {
            "Adult Day Program": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"CUP","MU1B":"CUP","MU1C":"CUP","MU2":"P","C1":"P","C2":"P","BP":"P","I":"Not Permitted","CF":"CUP"},
            "Adult Oriented Business": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"CUP","MU1B":"CUP","MU1C":"Not Permitted","MU2":"CUP","C1":"CUP","C2":"CUP","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Artisan Shop": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"Not Permitted","MU2":"P","C1":"P","C2":"P","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Artisan/Craft Product Manufacturing": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"Not Permitted","MU2":"CUP Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.","C1":"Not Permitted","C2":"Not Permitted","BP":"P","I":"P","CF":"Not Permitted"},
            "ATM": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"P","MU2":"P","C1":"P","C2":"P","BP":"P","I":"P","CF":"Not Permitted"},
            "Auto Parts Sales": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"Not Permitted","MU2":"Not Permitted","C1":"Not Permitted","C2":"Not Permitted","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Auto Vehicle Sales and Rental": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"Not Permitted","MU1B":"Not Permitted","MU1C":"Not Permitted","MU2":"Not Permitted","C1":"Not Permitted","C2":"Not Permitted","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Bank, Financial Services": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"Not Permitted","MU2":"P","C1":"P","C2":"P","BP":"P","I":"Not Permitted","CF":"Not Permitted"},
            "Bar, Tavern, Night Club": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"CUP","MU1B":"CUP","MU1C":"Not Permitted","MU2":"CUP","C1":"CUP","C2":"CUP","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Building and Landscape Materials Sales Indoor ‚Äì 25,000 sf or Less": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"Not Permitted","MU2":"P","C1":"P","C2":"P","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Building and Landscape Materials Sales Indoor ‚Äì More Than 25,000 sf": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"CUP (To be processed as a major conditional use permit at the discretion of the Planning Commission.)","MU1B":"CUP (To be processed as a major conditional use permit at the discretion of the Planning Commission.)","MU1C":"Not Permitted","MU2":"CUP (To be processed as a major conditional use permit at the discretion of the Planning Commission.)","C1":"CUP (To be processed as a major conditional use permit at the discretion of the Planning Commission.)","C2":"CUP (To be processed as a major conditional use permit at the discretion of the Planning Commission.)","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Building and Landscape Materials Sales ‚Äì Outdoor": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"Not Permitted","MU1B":"Not Permitted","MU1C":"Not Permitted","MU2":"Not Permitted","C1":"Not Permitted","C2":"Not Permitted","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Business Support Service": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P","MU1B":"P","MU1C":"Not Permitted","MU2":"P","C1":"P","C2":"P","BP":"P","I":"P","CF":"Not Permitted"},
            "Cardroom": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"CUP","MU1B":"CUP","MU1C":"Not Permitted","MU2":"CUP","C1":"CUP","C2":"CUP","BP":"CUP","I":"Not Permitted","CF":"Not Permitted"},
            "Catering Service, as a Primary Use": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","MU1B":"P","MU1C":"Not Permitted","MU2":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","C1":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","C2":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","BP":"P","I":"P","CF":"Not Permitted"},
            "Child Care Center": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","MU1B":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","MU1C":"Not Permitted","MU2":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","C1":"P","C2":"P","BP":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","I":"P (Use allowed only on an upper floor or behind a ground floor street fronting use; use in other locations allowed subject to a CUP.)","CF":"P"},
            "Child Day Care ‚Äì Large Family": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"Not Permitted","MU1B":"Not Permitted","MU1C":"A (Business license and compliance with Section 7.060 required.)","MU2":"Not Permitted","C1":"Not Permitted","C2":"Not Permitted","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "Child Day Care ‚Äì Small Family": {"OSP":"Not Permitted","AG":"Not Permitted","RR":"Not Permitted","R1":"Not Permitted","R2":"Not Permitted","R3":"Not Permitted","R4":"Not Permitted","R5":"Not Permitted","MU1A":"A (Business license required.)","MU1B":"A (Business license required.)","MU1C":"A (Business license required.)","MU2":"A (Business license required.)","C1":"A (Business license required.)","C2":"A (Business license required.)","BP":"Not Permitted","I":"Not Permitted","CF":"Not Permitted"},
            "City Water and Sewer Facility": {"OSP":"CUP","AG":"P","RR":"P","R1":"P","R2":"P","R3":"P","R4":"P","R5":"P","MU1A":"P","MU1B":"P","MU1C":"P","MU2":"P","C1":"P","C2":"P","BP":"P","I":"P","CF":"P"}
        };

        // Populate dropdowns
        function populateDropdowns() {
            console.log('Populating dropdowns...');
            const landUseSelect = document.getElementById('landUseSelect');
            const zoneSelect = document.getElementById('zoneSelect');

            // Test if elements exist
            if (!landUseSelect) {
                console.error('landUseSelect not found!');
                return;
            }
            if (!zoneSelect) {
                console.error('zoneSelect not found!');
                return;
            }

            console.log('Adding land uses:', landUses);
            landUses.forEach(use => {
                const option = document.createElement('option');
                option.value = use;
                option.textContent = use;
                landUseSelect.appendChild(option);
            });

            console.log('Adding zones:', zones);
            zones.forEach(zone => {
                const option = document.createElement('option');
                option.value = zone;
                option.textContent = zone;
                zoneSelect.appendChild(option);
            });
            
            console.log('Dropdowns populated successfully');
        }

        function getPermissionClass(permission) {
            if (permission === "Not Permitted") return "not-permitted";
            if (permission.startsWith("CUP")) return "conditional";
            if (permission.startsWith("A")) return "accessory";
            return "permitted";
        }

        function searchByLandUse() {
            const selectedUse = document.getElementById('landUseSelect').value;
            const results = document.getElementById('results');
            
            if (!selectedUse) {
                results.innerHTML = '<p class="no-results">Please select a land use first.</p>';
                return;
            }

            const useData = zoningData[selectedUse];
            let html = `<h3>Where "${selectedUse}" is allowed:</h3>`;
            
            const permitted = [];
            const conditional = [];
            const accessory = [];
            const notPermitted = [];

            Object.entries(useData).forEach(([zone, permission]) => {
                const item = { zone, permission };
                
                if (permission === "Not Permitted") {
                    notPermitted.push(item);
                } else if (permission.startsWith("CUP")) {
                    conditional.push(item);
                } else if (permission.startsWith("A")) {
                    accessory.push(item);
                } else {
                    permitted.push(item);
                }
            });

            if (permitted.length > 0) {
                html += '<h4 style="color: #27ae60; margin-top: 20px;">Permitted:</h4>';
                permitted.forEach(item => {
                    html += `<div class="result-item permitted">
                        <span class="zone-name">${item.zone}</span>
                        <div class="permission-detail">${item.permission}</div>
                    </div>`;
                });
            }

            if (conditional.length > 0) {
                html += '<h4 style="color: #f39c12; margin-top: 20px;">Conditional Use Permit Required:</h4>';
                conditional.forEach(item => {
                    html += `<div class="result-item conditional">
                        <span class="zone-name">${item.zone}</span>
                        <div class="permission-detail">${item.permission}</div>
                    </div>`;
                });
            }

            if (accessory.length > 0) {
                html += '<h4 style="color: #9b59b6; margin-top: 20px;">Accessory Use:</h4>';
                accessory.forEach(item => {
                    html += `<div class="result-item accessory">
                        <span class="zone-name">${item.zone}</span>
                        <div class="permission-detail">${item.permission}</div>
                    </div>`;
                });
            }

            results.innerHTML = html;
        }

        function searchByZone() {
            const selectedZone = document.getElementById('zoneSelect').value;
            const results = document.getElementById('results');
            
            if (!selectedZone) {
                results.innerHTML = '<p class="no-results">Please select a zone first.</p>';
                return;
            }

            let html = `<h3>What's allowed in ${selectedZone} zoning:</h3>`;
            
            const permitted = [];
            const conditional = [];
            const accessory = [];

            Object.entries(zoningData).forEach(([landUse, zones]) => {
                const permission = zones[selectedZone];
                if (permission && permission !== "Not Permitted") {
                    const item = { landUse, permission };
                    
                    if (permission.startsWith("CUP")) {
                        conditional.push(item);
                    } else if (permission.startsWith("A")) {
                        accessory.push(item);
                    } else {
                        permitted.push(item);
                    }
                }
            });

            if (permitted.length > 0) {
                html += '<h4 style="color: #27ae60; margin-top: 20px;">Permitted Uses:</h4>';
                permitted.forEach(item => {
                    html += `<div class="result-item permitted">
                        <span class="zone-name">${item.landUse}</span>
                        <div class="permission-detail">${item.permission}</div>
                    </div>`;
                });
            }

            if (conditional.length > 0) {
                html += '<h4 style="color: #f39c12; margin-top: 20px;">Conditional Use Permit Required:</h4>';
                conditional.forEach(item => {
                    html += `<div class="result-item conditional">
                        <span class="zone-name">${item.landUse}</span>
                        <div class="permission-detail">${item.permission}</div>
                    </div>`;
                });
            }

            if (accessory.length > 0) {
                html += '<h4 style="color: #9b59b6; margin-top: 20px;">Accessory Uses:</h4>';
                accessory.forEach(item => {
                    html += `<div class="result-item accessory">
                        <span class="zone-name">${item.landUse}</span>
                        <div class="permission-detail">${item.permission}</div>
                    </div>`;
                });
            }

            if (permitted.length === 0 && conditional.length === 0 && accessory.length === 0) {
                html += '<p class="no-results">No uses are specifically allowed in this zone.</p>';
            }

            results.innerHTML = html;
        }

        // Initialize the page when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, initializing...');
            populateDropdowns();
        });
    </script>
</body>
</html>
